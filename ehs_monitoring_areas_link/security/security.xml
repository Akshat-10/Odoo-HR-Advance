<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="group_ehs_monitoring_user" model="res.groups">
            <field name="name">EHS Monitoring User</field>
            <!-- <field name="category_id" ref="base.module_category_human_resources"/> -->
        </record>

        <record id="group_ehs_monitoring_admin" model="res.groups">
            <field name="name">EHS Monitoring Admin</field>
            <field name="implied_ids" eval="[(4, ref('ehs_monitoring_areas_link.group_ehs_monitoring_user'))]"/>
            <field name="users" eval="[(4, ref('base.user_admin'))]" />
            <!-- <field name="category_id" ref="base.module_category_human_resources"/> -->
        </record>

        <!-- Record rules: creator can write own open lines; users can create; everyone can read -->
        <record id="rule_monitoring_line_read" model="ir.rule">
            <field name="name">Monitoring Lines - Read All</field>
            <field name="model_id" ref="model_permit_monitoring_line"/>
            <field name="groups" eval="[(4, ref('ehs_monitoring_areas_link.group_ehs_monitoring_user'))]"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
        </record>

        <record id="rule_monitoring_line_owner_write" model="ir.rule">
            <field name="name">Monitoring Lines - Owner Write Open</field>
            <field name="model_id" ref="model_permit_monitoring_line"/>
            <field name="groups" eval="[(4, ref('ehs_monitoring_areas_link.group_ehs_monitoring_user'))]"/>
            <field name="domain_force">['&amp;',('user_id','=',user.id),('state','in',('open',))]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
        </record>

        <record id="rule_monitoring_line_admin_full" model="ir.rule">
            <field name="name">Monitoring Lines - Admin Manage</field>
            <field name="model_id" ref="model_permit_monitoring_line"/>
            <field name="groups" eval="[(4, ref('ehs_monitoring_areas_link.group_ehs_monitoring_admin'))]"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="1"/>
        </record>
    </data>
</odoo>
